[General]
gameName=SkyrimSE
modid=66955
version=f2.02
newestVersion=f2.02
category="14,"
nexusFileStatus=1
installationFile=Honorhall Orphanage Bugfixes and Expansion-66955-2-02-1652762182.zip
repository=Nexus
ignoredVersion=
comments=
notes=
nexusDescription="Hearthfires DLC attempted to expand the functionality of Honorhall Orphanage by allowing children who didn't start off as orphans, but were orphaned during the course of the game, to move in. ( [url=https://en.uesp.net/wiki/Skyrim:Adoption#Adoptable_Children] UESP Wiki Page[/url] )\n<br />However, this was never fully implemented for reasons unknown.\xa0 Mila Valentia, as one example, will never move into the orphanage even if she becomes an orphan due to her mother, who is her sole guardian, dying.\xa0\xa0 However, Aeta, who was added by the Dragonborn DLC, will!\n<br />\n<br />\n<br />[b]Fixes in the Orphanage Framework provided by this mod:[/b]\n<br />1) The four \"missed\" children in the base game that could possibly become orphans, will now move into the orphanage if they become orphans and the orphanage has room. (Mila Valentia, Haming, Grimvar and Kayd)\n<br />\xa0 Note: there are numerous children in the base game who have one or more guardians who cannot die, thus the child cannot become an orphan.\xa0 Lars Battle-Born's grandfather, whom he lives with, is essential and cannot die.\xa0 Agni's guardian, Falion, is essential and cannot die, etc, etc.\n<br />\n<br />2) In vanilla, once all the orphan beds filled, no more orphans could move in- even if the player adopted one or more orphans, freeing up their beds!\n<br />\xa0- Now, the Orphanage is checked every 24 game hours, and if it has one or more free beds it re-opens its doors for more orphans.\n<br />\n<br />2a) As a subset of the previous, adopted orphans were never removed from the Orphanage quest's aliases- meaning they were forever \"tying up\" their former bed and preventing an orphan from moving in to replace them!\n<br />\xa0- Now, adopted orphans are removed from Honorhall's resident rolls, freeing up their former bed for needy homeless orphans.\n<br />\n<br />3) The game maintains two \"lists\" of children: those who [i]might[/i] become orphans, and those who live in the orphanage.\xa0 When a child was moved into the orphanage, they weren't removed from the first list- and a rather intensive scripted condition check was run on them every 24 game hours!\n<br />\xa0- Now, when an orphan is moved into the orphanage, they are removed from the \"potential orphan\" list - [i]we don't need to waste CPU cycles checking if they're an orphan and finding them a bed if they already live in the orphanage![/i]\n<br />\n<br />4) There was no check to prevent the same child from being added to the list of those who might be orphaned, multiple times.\n<br />\xa0- Now, the same child will only be in that array a maximum of once. [i]If a child is already in the array, and they're requested to be added again, the reply is a \"true\" response- same as if they were being added the first time.[/i]\n<br />\n<br />4a) As a subset of the previous, the vanilla script would give a \"true\" response if it [i]tried[/i] to add a child to the potential orphans array, but without verifying success.\n<br />\xa0- Now, it actually verifies that they have actually been added successfully before responding \"true\".\n<br />\n<br />5) The original system had the Orphanage \"shut its doors\" to more orphans, after the PC adopted two children from any source!\xa0 Even if you adopted two urchins (Alesan, Sofie and Lucia) [i]who aren't even part of the Orphanage system at all[/i], it closed its doors to new orphans!\n<br />\xa0- Now, it only closes its doors if Grelod is alive, or all its beds are filled.\n<br />\n<br />6) There were no checks for dead children.\xa0\xa0 Ok, this isn't necessarily a bug since in vanilla children cannot die.\xa0\xa0 However, there are many mods out there that do make children mortal, so it's a good thing to check. \n<br />\xa0- Now, if a child is dead they are removed from both the \"potential orphan\" tracking as well as from the orphanage itself, freeing up their former bed for a homeless orphan.\n<br />\n<br />\xa0 NOTE: This mod does not make children mortal by itself.\xa0 It is written in such a way that it accounts for the possibility that users have installed [i]other mod(s)[/i] that make children mortal/able to die.\n<br />ToDo: Make Aventus Aretino adoptable.\n<br />\n<br />\n<br />[b]...The \"Expansion\" part of this mod:[/b]\n<br />Hearthfires remodels Grelod's former room (after her tragic and accidental death that was definitely due to natural causes...) to fit seven addition beds for orphans, but it left the much larger main room untouched.\xa0\xa0 Doing what was, overall, rather minor rearranging I added three more beds to the main room while also leaving most of the center of the room open for them to play in.\xa0 \n<br />\n<br />I also added more seats for dining, because even in its vanilla form there weren't enough seats for everyone! (12 seats for dining, but up to 12 orphans + Constance Michel = 13!)\n<br />\n<br />This brings the total \"orphan capacity\" of the Honorhall Orphanage to 15 orphans at once.\n<br />\n<br />[u]Expansions added in v2.02:[/u]\n<br />Expanded schedules and AI packages for Constance Michel and the orphans.\xa0 AI Package changes occur after Grelod is dead, and the player manages to get out of Astrid's shack (one way, or another...)\n<br />\xa0- Constance will now get to sleep 7 1/2 hours per day, up from the mere 4 hours in vanilla.\n<br />\xa0- All orphanage resident will get a second meal on Sundays, instead of only one per day.\n<br />\xa0- Constance will visit the Riften Market for a few hours daily, from 12:10 - 2:50\n<br />\xa0- Up to three orphans will accompany her to the market.\n<br />\n<br />[b]But...\xa0 I want my children to move into the orphanage but not use this mod![/b]\n<br />I'm guessing you're a mod author.\xa0\xa0 I get it, nobody likes adding more dependencies.\n<br />Ok, I'm a little disappointed but we can do that.\xa0\xa0 The basic framework exists in vanilla Hearthfires, but it was never documented.\xa0 You'll still be subject to the bugs and limitations outlined above, but it will work in a limited manner.\n<br />It's easy, if it takes you more than 2-3 minutes per child I'll be surprised.\n<br />1) a script on the child, or you can look at Dragonborn's DLC2InitCRossDLCScript to see how Bethesda does it on DLC initialization.\n<br />\xa0- feel free to either use this, or make your own variant:\n<br />[spoiler][code]\n<br />scriptname\xa0\xa0 \xa0_SUB_HonorhallChildScript\xa0\xa0 \xa0\x65xtends\xa0\xa0 \xa0objectReference\n<br />\n<br />quest\xa0\xa0 \xa0\xa0\xa0 \xa0property\xa0\xa0 \xa0\xa0\xa0 \xa0\x42YOHRelationshipAdoptable\xa0\xa0 \xa0\xa0\xa0 \xa0\x41uto\xa0\xa0 \xa0;\xa0\xa0 \xa0the property name, is the quest name.\xa0 The CK should be able to auto-fill for you.\n<br />\n<br />auto state NotAdded\n<br />\xa0\xa0 \xa0\x65vent\xa0\xa0 \xa0OnCellLoad()\n<br />\xa0\xa0 \xa0\xa0\xa0 \xa0if (self as objectReference) as actor\xa0\xa0 \xa0; in case some idiot (most likely, me) attaches this to a non-actor\n<br />\xa0\xa0 \xa0\xa0\xa0 \xa0\xa0\xa0 \xa0RegisterForSingleUpdate(6.0)\n<br />\xa0\xa0 \xa0\xa0\xa0 \xa0\x65lse\n<br />\xa0\xa0 \xa0\xa0\xa0 \xa0\xa0\xa0 \xa0GoToState(\"\")\n<br />\xa0\xa0 \xa0\xa0\xa0 \xa0\x65ndIf\n<br />\xa0\xa0 \xa0\x65ndEvent\n<br />\xa0\xa0 \xa0\n<br />\xa0\xa0 \xa0\x65vent\xa0\xa0 \xa0OnUpdate()\n<br />\xa0\xa0 \xa0\xa0\xa0 \xa0\x61\x63tor myActor = (self as objectReference) as actor\n<br />\xa0\xa0 \xa0\xa0\xa0 \xa0if myActor &amp;&amp; (BYOHRelationshipAdoptable as BYOHRelationshipAdoptableAccessor).AddOrphanableChild(myActor)\n<br />\xa0\xa0 \xa0\xa0\xa0 \xa0\xa0\xa0 \xa0GoToState(\"\")\n<br />\xa0\xa0 \xa0\xa0\xa0 \xa0\x65ndIf\n<br />\xa0\xa0 \xa0\x65ndEvent\n<br />endState\n<br />[/code][/spoiler]\n<br />2) at minimum, one, but up to four linkedRefs with the following LinkKeywords in the child's objectReference record\n<br />LinkCustom01 = father\n<br />LinkCustom02 = mother\n<br />LinkCustom03 = guardian1\n<br />LinkCustom04 = guardian2\n<br />[i]If you do not supply at least one of those linkedRefs to a valid, living actor the child will be considered to be immediately orphaned from the moment the game starts and it will try to move them into the orphanage ASAP!\xa0 [/i]Which you can do, if the child starts off as an orphan.\xa0 You choose what works best for your mod!\n<br />\n<br />Let me say this again, for clarity:\xa0\xa0 If you do the two steps above for your mod-added children, it will work with both vanilla or with this mod installed.\xa0 There's [u]no need for specific compatibility patches[/u] if your mod just adds more children to the game.\n<br />\n<br />\n<br />[b]Added in v2.00:[/b]\n<br />First, let's start off with what it does [i]not[/i] do.\xa0\xa0 It does not break vanilla functionality.\xa0\xa0 It is fully backwards compatible.\xa0 The vanilla conditional properties on the BYOHRelationshipAdoptableOrphanage Quest and its scripts have not been removed.\xa0 If a mod was built to work with (but NOT overwrite) vanilla, then this should work with that mod as well.\n<br />\n<br />[u]What it does do:[/u]\xa0 It allows other sites to \"register\" themselves to accept incoming orphans in need of a bed, and allows those sites to unregister themselves if the free beds fill up or if you want to shut down incoming orphan transfers for any other reason.\n<br />Under [u]Optional Files[/u] you'll find a [b]fully functional demonstration[/b] of Mixwater Mill.\xa0 Mixwater can accept up to four needy orphans, providing them with room and board in exchange for the orphans spending a few hours per day chopping and hauling firewood.\n<br />Mixwater can be installed [u]without[/u] Honorhall Orphanage Fixes and Expansion - it is not a required master file in the load order.\xa0 Without Honorhall Orphanage Fixes and Expansion, no orphans will move into Mixwater- but it can still be added.\xa0\xa0 This is to showcase the flexibility of the framework- mod authors can make mods that take advantage of the framework if it's present, but that don't require users to install the framework to use their mod.\n<br />\n<br />[b]Installation:[/b]\n<br />With a mod manager, or manually.\xa0 Much like most other mods.\n<br />NOTE: If you're using Hearthfire: Multiple Adoptions (HMA) this must load after (i.e. overwrite) HMA!\xa0 At least on my system LOOT sorted it wrong.\n<br />Installation mid-game is not recommended.\xa0 Due to data structure changes, the 13 children in vanilla on the \"potential orphans\" list would probably be lost if installed mid-game.\xa0\xa0 Changes to the interior of Honorhall may not occur if installed mid-game.\n<br />\n<br />\n<br />[b]Removal:[/b]\n<br />Not recommended mid-game.\xa0 In addition to it generally being a bad idea to remove [i]any[/i] mod mid-game, the same reasons I listed for not installing it mid-game would also apply for uninstallation.\n<br />Otherwise, tell your mod manager to remove it or delete the files if you installed manually.\n<br />\n<br />\n<br />[b]Conflicts:[/b]\n<br />As of v1.01, this is compatible with [url=https://www.nexusmods.com/skyrimspecialedition/mods/3862]HMA[/url] as-is with no patches needed. \xa0 It may be compatible with other multi-adoption mods as well, if they modify the Hearthfires adoptions quests and do not make their own system. \n<br />Any mod that makes extensive changes to the interior of Honorhall Orphanage is likely to conflict.\n<br />\n<br />\n<br />[b]FAQ:[/b]\n<br />\n<br />Q:\xa0 I went to Honorhall, but it doesn't look any different!\xa0 Why?\n<br />A:\xa0 Just like in vanilla, the orphanage does not get remodeled until:\xa0\xa0 Grelod is dead, and at least one [i]new[/i] orphan (not counting the starting five: Hroar, Runa, Samuel, Francois, Aventus) wants to move in.\xa0 (Yes, Aventus starts off considered\xa0 a resident of the orphanage, even though he's off in Windhelm playing with dead body parts)\n<br />\xa0- The same applies for the optional download with Mixwater Mill.\xa0\xa0 Until the first orphan moves in, it will look exactly like it always has.\xa0 Once the first orphan moves in, the workers' house gets remodeled for kids, a goat and two more chickens appear in the yard, new woodpiles appear, and most of the clutter and underbrush disappears."
url=
hasCustomURL=false
lastNexusQuery=2022-05-17T13:50:04Z
lastNexusUpdate=2022-11-04T08:29:18Z
nexusLastModified=2022-05-17T04:36:22Z
converted=false
validated=false
color=@Variant(\0\0\0\x43\0\xff\xff\0\0\0\0\0\0\0\0)
tracked=0
endorsed=1

[installedFiles]
1\modid=66955
1\fileid=284375
size=1
