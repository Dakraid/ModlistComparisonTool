[General]
gameName=SkyrimSE
modid=67276
version=1.2.0.0
newestVersion=1.2.0.0
category="24,"
nexusFileStatus=1
installationFile=Critter Spawn Congestion Fix 1.2-67276-1-2-1651865683.7z
repository=Nexus
ignoredVersion=
comments=
notes=
nexusDescription="[size=3]CritterSpawn is the script responsible for spawning critters in your game, that's Moths, Butteflies, Torchbugs, Bees, DragonFlies and Fish.\n<br />\n<br />This is a much more efficient rewrite for CritterSpawn (and\xa0\x63\x63\x42GSSSE001_CritterSpawn for fishing)\xa0 to :\n<br />\n<br />[/size][list]\n<br />[*][size=3]\xa0Primarily stop it from spamming freaking wait()s in a while loop .. on cell attach .. 4 threads .. in a 4 km radius .. with no chill[/size]\n<br />[*][size=3]\xa0\x43\x61\x63he some values, and not look up others when not needed\xa0[/size]\n<br />[*][size=3]\xa0Prevent eventual indefinite thread locking caused by the induced stack dumps[/size]\n<br />[/list][size=3]\xa0\n<br />[/size][list]\n<br />[*][size=3]Additionally this will make spawners spawn more after the first batch has been killed/picked, without having to leave/unload the cell.[/size]\n<br />[/list][size=3]\xa0 \xa0 \xa0 \xa0 \n<br />The spawners will gradually deplete taking longer time for every critter death until reaching a cap which is 10 times the amount of concurrent spawns the\xa0 marker is set to.\xa0 Meaning a bee spawner set to spawn a maximum of 5 bees at any time, will spawn a maximum of 50 as you pluck them. Spawners will reset on cell reload.\xa0[/size]\n<br />\n<br />----------\n<br />\n<br />[b]This mod contains no plugins, and works with any version of the game (LE SSE AE), it doesn't require fishing and will work with CC or AE fishing.\n<br />[/b]\n<br />This mod is compatible with anything that doesn't break the Critter class in relation to the vanilla spawner script (for now that's everything).\n<br />[b][color=#ea9999][size=3]\n<br />If installing on an existing save, the save must not have active or suspended stacks of the old CritterSpawn or\xa0\x63\x63\x42GSSSE001_CritterSpawn (for fishing).\n<br />[/size][/color][/b][size=3]You can check that by loading your save in the Resaver Tool and checking [b]Active Scripts[/b] and [b]Suspended Stacks.\n<br />[/b]You can get that most of the time by going into an interior that doesn't have spawners then waiting for a couple of seconds before saving.[/size]\n<br />\n<br />----------\n<br />\n<br />[size=3][b]To explain how the vanilla (and uskp fixed one ) script worked :[/b]\n<br />\n<br />As you stroll through the wilderness, depending on how beefed up your render distance settings are,\xa0 Cells around you start to load.\n<br />\n<br />Each time a cell loads, All the Critter (bugs, moths, butterflies and fish) spawners in it hop on a treadmill checking over and over whether you're close enough to start spawning bugs.\n<br />\n<br />They don't do that on an update basis, popping in and out in your script engine stacks checking every other frame no ! It's a\xa0 while wait loop baby!\n<br />Meaning each instance of the script on those spawners ( yea there's up to 4 threads on each one ! ) will carve up space from your script engine budget just making it run in a hamster wheel nagging : are we there yet ?\n<br />\n<br />This is passable in a vanilla game, most of the spawners are in the wilderness, and there isn't much to do so the engine is playing the whackemall with them comfortably.\n<br />\n<br />However if your game gets caught doing something else while suffering a surge of these,\xa0 the engine starts dumping stacks : there's too much to handle so it starts dumping script stacks randomly playing Russian roulette with your save :[/size]\n<br />\n<br />[center][img]https://staticdelivery.nexusmods.com/mods/1704/images/67276/67276-1651251451-589240443.png[/img][/center]\n<br />\n<br />[size=3]What the fixed script does instead:\n<br />\n<br />[/size][list]\n<br />[*][size=3]On cell attach, it checks the distance, and if it's too far,\xa0 it will register for a single update delayed 2-3 seconds to prevent all the markers from waking up at the same time again[/size]\n<br />[*][size=3]and during that time the script engine isn't bothered with it[/size]\n<br />[*][size=3]If the marker is unloaded, the script is guaranteed to die since it won't be called for update again[/size]\n<br />[*][size=3]If it falls in radius, it'll spawn a batch aiming for the desired amount of critters[/size]\n<br />[*][size=3]If it successfully reaches target it'll stay inactive until one critter dies[/size]\n<br />[*][size=3]Else it'll schedule another update delayed based on how many already spawned to try another batch.[/size]\n<br />[*][size=3]When a critter dies it'll attempt to trigger the same aforementioned scheduling, each trigger simply postpones the scheduling relative to how many critter already spawned[/size]\n<br />[/list][size=3]\n<br />Additionally the script will no longer spam\xa0unnecessary\xa0latent calls on every iteration like:\n<br />[/size][list]\n<br />[*][size=3]Checking the weather it can spawn in when it's set to spawn in any weather.[/size]\n<br />[*][size=3]Asking for the player reference and never saving it.[/size]\n<br />[*][size=3]Grabbing the time global variable when it's set to spawn all day etc ..[/size]\n<br />[/list]\n<br />\n<br />Credits :\n<br />- The script is based on the USKP version and incorporates the fixes introduced in it."
url=
hasCustomURL=false
lastNexusQuery=2022-05-13T11:50:49Z
lastNexusUpdate=2022-11-04T08:29:18Z
nexusLastModified=2022-05-06T19:34:43Z
converted=false
validated=false
color=@Variant(\0\0\0\x43\0\xff\xff\0\0\0\0\0\0\0\0)
tracked=0
endorsed=0

[installedFiles]
1\modid=67276
1\fileid=281943
size=1
